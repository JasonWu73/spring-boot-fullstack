import{aO as b,aG as s,aH as u,aF as e,as as l,aJ as I,aN as k,aK as d,aL as v,R as A}from"./SuspenseLoading-261fce6d.js";import{u as p,a as L,A as x,b as F,c as R,g as T}from"./main-2b08f4d2.js";import{F as t}from"./index-f7865dd5.js";import{I as m}from"./index-e353cf84.js";import{B as S}from"./RouteError-62a31d50.js";const z="/assets/ant-design-pro-background-d7103c44.svg";function H(){return b("登录"),j(),s(u,{style:{minHeight:"100dvh",backgroundImage:`url(${z})`,backgroundRepeat:"no-repeat",backgroundPosition:"center 11rem",backgroundSize:"100%"},children:[e(u.Content,{style:{display:"flex"},children:s(l,{direction:"vertical",style:{width:"100%",justifyContent:"center",alignItems:"center"},children:[s(l,{children:[e("img",{src:"/react.svg",alt:"Vite logo",width:32,style:{pointerEvents:"none"}}),e(I.Title,{level:2,style:{marginBottom:0},children:"Vite + React + TS"})]}),e(B,{})]})}),e(k,{})]})}function B(){var i,c;const{loading:n,error:r}=p(a=>a.ui),o=L(),g=d(),h=((c=(i=v().state)==null?void 0:i.from)==null?void 0:c.pathname)||"/";function f(a){const y=a.username.trim(),w=a.password.trim();o(T(y,w,()=>g(h,{replace:!0})))}return s(t,{name:"login",style:{width:"32.8rem",margin:"0 auto"},onFinish:f,autoComplete:"off",children:[r&&e(t.Item,{children:e(x,{type:"error",message:r,showIcon:!0,closable:!0})}),e(t.Item,{name:"username",rules:[{required:!0,whitespace:!0,message:"用户名不能为空"}],children:e(m,{size:"large",prefix:e(F,{}),placeholder:"用户名：admin 或 user"})}),e(t.Item,{name:"password",rules:[{required:!0,whitespace:!0,message:"密码不能为空"}],children:e(m.Password,{size:"large",prefix:e(R,{}),placeholder:"密码：123"})}),e(t.Item,{children:e(S,{type:"primary",loading:n,htmlType:"submit",size:"large",style:{width:"100%"},children:"登录"})})]})}function j(){const n=p(o=>o.auth.username),r=d();A.useEffect(()=>{n&&r("/",{replace:!0})},[])}export{H as default};
